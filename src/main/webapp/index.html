<!DOCTYPE html>
<html>
	<head lang="en">
		<meta charset="utf-8" />
		<title>Woniu家具网</title>
		<link rel="stylesheet" type="text/css" href="css/public.css"/>
		<link rel="stylesheet" type="text/css" href="css/index.css" />
	</head>
	<body>
		<!------------------------------head------------------------------>
		<div class="head">
			<div class="wrapper clearfix">
				<div class="clearfix" id="top">
					<h1 class="fl"><a href="index.html"><img src="img/logo.png"/></a></h1>
					<div class="fr clearfix" id="top1">
						<p class="fl">
							<a href="#" id="login">登录</a>
							<a href="#" id="reg">注册</a>
						</p>
						<form action="#" method="get" class="fl">
							<input type="text" placeholder="热门搜索：干花花瓶" />
							<input type="button" />
						</form>
						<div class="btn fl clearfix">
							<a href="mygxin.html"><img src="img/grzx.png"/></a>
							<a href="#" class="er1"><img src="img/ewm.png"/></a>
							<a href="cart.html"><img src="img/gwc.png"/></a>
							<p><a href="#"><img src="img/smewm.png"/></a></p>
						</div>
					</div>
				</div>
				<ul class="clearfix" id="bott">
					<li><a href="index.html">首页</a></li>
					<li>
						<a href="#">所有商品</a>
					</li>
			</div>
		</div>
		<!-------------------------banner--------------------------->
		<div class="block_home_slider" id="app2">
			<div id="home_slider" class="flexslider">
				<ul class="slides">
					<li v-for="(item,index) in data">
						<div class="slide">
							<img :src="item.imgName"/>
						</div>
					</li>
					<li>
						<div class="slide">
							<img src="img/banner1.jpg"/>
						</div>
					</li>
					<li>
						<div class="slide">
							<img src="img/banner2.jpg"/>
						</div>
					</li>
				</ul>
			</div>
		</div>
		
		<!------------------------------thImg------------------------------>
		<div class="thImg">
			<div class="clearfix">
				<a href="vase_proList.html"><img src="img/i1.jpg"/></a>
				<a href="proList.html"><img src="img/i2.jpg"/></a>
				<a href="#2"><img src="img/i3.jpg"/></a>
			</div>
		</div>
		
		
		<!------------------------------people------------------------------>
		<div class="people">
			<div class="wrapper" id="app">
				<h2><img src="img/ih3.jpg"/></h2>
				<div class="pList clearfix tran" v-for="(res,index) in data" :key="index">
					<a href="proDetail.html" v-for="(da,i) in res" :key="i">
						<dl>
							<dt>
								<span class="abl"></span>
								<img :src="da.imgName"/>
								<span class="abr"></span>
							</dt>
							<dd> {{da.productName}}</dd>
							<dd><span>{{da.price}}</span></dd>
						</dl>
					</a>
				</div>
			</div>
		</div>
		<!--返回顶部-->
		<div class="gotop">
			<a href="cart.html">
			<dl>
				<dt><img src="img/gt1.png"/></dt>
				<dd>去购<br />物车</dd>
			</dl>
			</a>
			<a href="#" class="dh">
			<dl>
				<dt><img src="img/gt2.png"/></dt>
				<dd>联系<br />客服</dd>
			</dl>
			</a>
			<a href="mygxin.html">
			<dl>
				<dt><img src="img/gt3.png"/></dt>
				<dd>个人<br />中心</dd>
			</dl>
			</a>
			<a href="#" class="toptop" style="display: none">
			<dl>
				<dt><img src="img/gt4.png"/></dt>
				<dd>返回<br />顶部</dd>
			</dl>
			</a>
			<p>400-800-8200</p>
		</div>
		
		<!-------------------login-------------------------->
		<!--footer-->
		<div class="footer">
			<div class="top">
				<div class="wrapper">
					<div class="clearfix">
						<a href="#2" class="fl"><img src="img/foot1.png"/></a>
						<span class="fl">7天无理由退货</span>
					</div>
					<div class="clearfix">
						<a href="#2" class="fl"><img src="img/foot2.png"/></a>
						<span class="fl">15天免费换货</span>
					</div>
					<div class="clearfix">
						<a href="#2" class="fl"><img src="img/foot3.png"/></a>
						<span class="fl">满599包邮</span>
					</div>
					<div class="clearfix">
						<a href="#2" class="fl"><img src="img/foot4.png"/></a>
						<span class="fl">手机特色服务</span>
					</div>
				</div>
			</div>
			<p class="dibu">蜗牛家居&copy;2013-2017公司版权所有<br /></p>
		</div>
		
		<script src="js/jquery-1.12.4.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/public.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/nav.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/vue.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/axios.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/jquery.flexslider-min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			//发送请求到服务器获取数据
			var vm = new Vue({
		        el: '#app',
		        data: {
		            data: []
		        },
		        created() {
		        	//从服务器获取到数据，动态渲染到页面
		            var p = axios.get('/findAll');
		        	//使用箭头函数的方式来获取值
		            p.then(res => {
		         		//获取服务传递回来的数据，将数组拆分为多个数组
		            	var results=[];
		            	for(var i=0;i<res.data.length;i+=4){
				              results.push(res.data.slice(i,i+4));
		            	}
		            	this.data = results;
		            }).catch(function (err) {
		                console.log(err);
		            });
		        }
		    });
			
			// 加载广告数据
			var vm2 = new Vue({
				el: '#app2',
				data: {
		            data: ""
		        },
		        created() {
		        	let $this = this;
		        	//从服务器获取到数据，动态渲染到页面
		            var p = axios.get('slogan/findAll');
		            p.then(res => {
		            	this.data = res.data;
		            	$this.$nextTick(function(){
	        				
		            	});
		            }).catch(function (err) {
		                console.log(err);
		            });
		       	 }
			})
			
			$(function() {
				$('#home_slider').flexslider({
    				animation: 'slide',
    				controlNav: true,
    				directionNav: true,
    				animationLoop: true,
    				slideshow: true,
    				slideshowSpeed:2000,
    				useCSS: false
    			});  
				
			});
			
			
			
		 /* var data = [
			            {name:'Liming1',age:'25'},
			            {name:'Liming2',age:'25'},
			            {name:'Liming3',age:'25'},
			            {name:'Liming4',age:'25'},
			            {name:'Liming5',age:'25'},
			            {name:'Liming6',age:'25'},
			            {name:'Liming7',age:'25'},
			            {name:'Liming8',age:'25'},
			            {name:'Liming9',age:'25'},
			            {name:'Liming10',age:'25'},
			            {name:'Liming11',age:'25'},
			            {name:'Liming12',age:'25'},
			          ]
			          var result = [];
			          for(var i=0;i<data.length;i+=4){
			              result.push(data.slice(i,i+4));
			          } 
			console.info(result); */
			
		</script>
		
		
	</body>
</html>
